{"mappings":"oeAAAA,EAAA,S,iCCAA,IAAAC,EAAAD,EAAA,S,iBC2CAE,EAvCuB,CAACC,EAAYC,EAAO,EAAGC,EAAQ,MACpD,MAAMC,EAAU,C,WACdH,EACAI,aAAc,GACdC,aAAc,E,KACdJ,EACAK,aAAa,EACbC,mBAAoB,oBACpBC,kBAAmB,mBACnBC,SAAU,CACRR,KAAM,mDACNS,YACE,6EACFC,WACE,qEACFC,mBACE,0EACFC,WACE,oHAMAC,EAAYC,SAASC,eAAe,cACpCC,EAAW,IAAIC,WAAWJ,EAAWX,GAW3C,OATAc,EAASE,GAAG,cAAc,SAAUC,GACjClB,EAEGmB,EAAsBnB,EAAOkB,EAAUnB,MADvCqB,EAAuBF,EAAUnB,MChCrCsB,OAAOC,SAAS,CACdC,IAAK,IACLC,SAAU,U,IDmCdT,EAASE,GAAG,aAAa,SAAUC,GAAW,IAEvCH,CAAQ,E,uCD7BjBU,EAAAC,KAAKC,YAAYC,iBAAiB,UAwDlC,SAAuBC,GACrBA,EAAEC,iBACF,MAAMC,EAAOF,EAAEG,cACThC,EAAQ+B,EAAKE,SAASC,OAAOC,MAAMC,OACzCpC,EAAQmB,EAAsBnB,GAASoB,IACvCW,EAAKM,O,IA5DPZ,EAAAC,KAAKY,iBAAiBV,iBAAiB,QAASW,GAGzC,MAAMnB,EAAyBoB,MAAOzC,EAAO,KAClD,IACEH,EAAA6C,QAAQC,SAAS,aAAc,CAC7BC,UAAW,eACXC,gBAAiB,kBACjBC,SAAU,sBAEZ,MAAMC,QAAEA,EAAOC,YAAEA,SAAsB,EAAAC,EAAAC,2BAA0BlD,GACjEF,EAAekD,EAAahD,GAC5B,MAAMmD,EAASJ,EAAQK,KAAIC,IAAS,EAAAC,EAAAC,iBAAgBF,KAAQG,KAAK,IACjE9B,EAAAC,KAAKY,iBAAiBkB,UAAYN,C,CAClC,MAAOO,GAAO,CACf,QACC7D,EAAA6C,QAAQiB,Q,GAICvC,EAAwBqB,MAAOxC,EAAOD,EAAO,KACxD,IACEH,EAAA6C,QAAQC,SAAS,aAAc,CAC7BE,gBAAiB,kBACjBC,SAAU,sBAEZ,MAAMC,QAAEA,EAAOC,YAAEA,SAAsB,EAAAC,EAAAW,mBAAkB3D,EAAOD,GAChE,GAAuB,IAAnB+C,EAAQc,OACVnC,EAAAC,KAAKY,iBAAiBkB,UAAY,6LAMlC/B,EAAAC,KAAKmC,aAAaC,UAAUC,OAAO,eAC9B,CACLlE,EAAekD,EAAahD,EAAMC,GAClC,MAAMkD,EAASJ,EAAQK,KAAIC,IAAS,EAAAC,EAAAC,iBAAgBF,KAAQG,KAAK,IACjE9B,EAAAC,KAAKY,iBAAiBkB,UAAYN,EAClCzB,EAAAC,KAAKY,iBAAiBV,iBAAiB,QAASW,E,EAElD,MAAOkB,GAAO,CACf,QACC7D,EAAA6C,QAAQiB,Q,GAKZ,SAASnB,EAAsBV,GAC7B,MAAMmC,EAAYnC,EAAEoC,OAAOC,QAAQ,mBACnC,IAAKF,EAAW,OAChB,MAAMG,EAAUH,EAAUI,QAAQD,SAClC,EAAAE,EAAAC,oBAAmBH,E,CAWrB/C","sources":["src/catalog.js","src/js/partials/catalog.js","src/js/partials/pagination.js","src/js/utils/scroll-up.js"],"sourcesContent":["import './js/utils/active-page';\nimport './js/utils/scroll-top-btn';\nimport './js/utils/mobile-menu';\n\nimport './js/partials/hero';\nimport './js/partials/catalog';","import { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nimport {\n  fetchTrendingMoviesByWeek,\n  fetchSearchMovies,\n} from '../services/fetch-api';\nimport initPagination from './pagination';\nimport { movieListMarkup } from '../markup/movieListMarkup';\nimport { openMovieInfoModal } from '../utils/modal.js';\nimport { refs } from '../refs.js';\n\nrefs.catalogForm.addEventListener('submit', handlerSubmit);\nrefs.catalogMovieList.addEventListener('click', handlerMovieListClick);\n\n// !RENDER MOVIE LIST\nexport const renderCatalogMovieList = async (page = 1) => {\n  try {\n    Loading.standard('Loading...', {\n      className: 'hero-loading',\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      svgColor: 'rgb(248, 119, 25)',\n    });\n    const { results, total_pages } = await fetchTrendingMoviesByWeek(page);\n    initPagination(total_pages, page);\n    const markup = results.map(movie => movieListMarkup(movie)).join('');\n    refs.catalogMovieList.innerHTML = markup;\n  } catch (error) {\n  } finally {\n    Loading.remove();\n  }\n};\n\nexport const renderSearchMovieList = async (query, page = 1) => {\n  try {\n    Loading.standard('Loading...', {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      svgColor: 'rgb(248, 119, 25)',\n    });\n    const { results, total_pages } = await fetchSearchMovies(query, page);\n    if (results.length === 0) {\n      refs.catalogMovieList.innerHTML = `\n        <li class=\"movie__item--notfound\">\n          OOPS...<br/>\n          We are very sorry!<br/>\n          We don&apost have any results matchingÂ your search.<br/>\n        </li>`;\n      refs.paginationEl.classList.toggle('vhidden');\n    } else {\n      initPagination(total_pages, page, query);\n      const markup = results.map(movie => movieListMarkup(movie)).join('');\n      refs.catalogMovieList.innerHTML = markup;\n      refs.catalogMovieList.addEventListener('click', handlerMovieListClick);\n    }\n  } catch (error) {\n  } finally {\n    Loading.remove();\n  }\n};\n\n// !HANDLERS\nfunction handlerMovieListClick(e) {\n  const closestId = e.target.closest('[data-movie-id]');\n  if (!closestId) return;\n  const movieId = closestId.dataset.movieId;\n  openMovieInfoModal(movieId);\n}\n\nfunction handlerSubmit(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const query = form.elements.search.value.trim();\n  query ? renderSearchMovieList(query) : renderCatalogMovieList();\n  form.reset();\n}\n\nrenderCatalogMovieList();","\nimport { renderCatalogMovieList, renderSearchMovieList } from './catalog';\nimport { scrollUp } from '../utils/scroll-up';\n\nconst initPagination = (totalItems, page = 1, query = '') => {\n  const options = {\n    totalItems,\n    itemsPerPage: 20,\n    visiblePages: 3,\n    page,\n    centerAlign: true,\n    firstItemClassName: 'pagination--first',\n    lastItemClassName: 'pagination--last',\n    template: {\n      page: '<a href=\"#\" class=\"pagination__btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"pagination__btn pagination__btn--current\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"pagination__btn pagination__btn--{{type}}\"></a>',\n      disabledMoveButton:\n        '<a href=\"#\" class=\"pagination__disabled pagination__btn--{{type}}\"></a>',\n      moreButton:\n        '<a href=\"#\" class=\"pagination__btn pagination__btn--{{type}}-ellipsis\">' +\n        '<i class=\"fa-solid fa-ellipsis\"></i>' +\n        '</a>',\n    },\n  };\n\n  const container = document.getElementById('pagination');\n  const instance = new Pagination(container, options);\n\n  instance.on('beforeMove', function (eventData) {\n    !query\n      ? renderCatalogMovieList(eventData.page)\n      : renderSearchMovieList(query, eventData.page);\n    scrollUp();\n  });\n\n  instance.on('afterMove', function (eventData) {});\n\n  return instance;\n};\n\nexport default initPagination;","export const scrollUp = () => {\n    window.scrollTo({\n      top: 400,\n      behavior: 'smooth',\n    });\n  };"],"names":["parcelRequire","$dSs1Y","$afdc3b0a2d20b010$export$2e2bcd8739ae039","totalItems","page","query","options","itemsPerPage","visiblePages","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","container","document","getElementById","instance","Pagination","on","eventData","$23049daee52fa950$export$ac9a4cdb726aab8c","$23049daee52fa950$export$1cc05d800ef4de3","window","scrollTo","top","behavior","$krGWQ","refs","catalogForm","addEventListener","e","preventDefault","form","currentTarget","elements","search","value","trim","reset","catalogMovieList","$23049daee52fa950$var$handlerMovieListClick","async","Loading","standard","className","backgroundColor","svgColor","results","total_pages","$lCN0J","fetchTrendingMoviesByWeek","markup","map","movie","$6tYrs","movieListMarkup","join","innerHTML","error","remove","fetchSearchMovies","length","paginationEl","classList","toggle","closestId","target","closest","movieId","dataset","$jV0Ik","openMovieInfoModal"],"version":3,"file":"catalog.a2297939.js.map"}