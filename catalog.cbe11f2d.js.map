{"mappings":"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","sources":["src/catalog.js","src/js/partials/catalog.js","src/js/utils/scroll-up.js","src/js/partials/pagination.js"],"sourcesContent":["import './js/utils/active-page';\nimport './js/utils/scroll-top-btn';\nimport './js/utils/mobile-menu';\n\nimport './js/partials/hero';\nimport './js/partials/catalog';","import { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nimport {\n  fetchTrendingMoviesByWeek,\n  fetchSearchMovies,\n} from '../services/fetch-api';\nimport initPagination from './pagination';\nimport { movieListMarkup } from '../markup/movieListMarkup';\nimport { openMovieInfoModal } from '../utils/modal.js';\nimport { refs } from '../refs.js';\n\nrefs.catalogForm.addEventListener('submit', handlerSubmit);\nrefs.catalogMovieList.addEventListener('click', handlerMovieListClick);\n\n// !RENDER MOVIE LIST\nexport const renderCatalogMovieList = async (page = 1) => {\n  try {\n    Loading.standard('Loading...', {\n      className: 'hero-loading',\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      svgColor: 'rgb(248, 119, 25)',\n    });\n    const { results, total_pages } = await fetchTrendingMoviesByWeek(page);\n    initPagination(total_pages, page);\n    const markup = results.map(movie => movieListMarkup(movie)).join('');\n    refs.catalogMovieList.innerHTML = markup;\n  } catch (error) {\n  } finally {\n    Loading.remove();\n  }\n};\n\nexport const renderSearchMovieList = async (query, page = 1) => {\n  try {\n    Loading.standard('Loading...', {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      svgColor: 'rgb(248, 119, 25)',\n    });\n    const { results, total_pages } = await fetchSearchMovies(query, page);\n    if (results.length === 0) {\n      refs.catalogMovieList.innerHTML = `\n        <li class=\"movie__item--notfound\">\n          OOPS...<br/>\n          We are very sorry!<br/>\n          We don&apost have any results matchingÂ your search.<br/>\n        </li>`;\n      refs.paginationEl.classList.toggle('vhidden');\n    } else {\n      initPagination(total_pages, page, query);\n      const markup = results.map(movie => movieListMarkup(movie)).join('');\n      refs.catalogMovieList.innerHTML = markup;\n      refs.catalogMovieList.addEventListener('click', handlerMovieListClick);\n    }\n  } catch (error) {\n  } finally {\n    Loading.remove();\n  }\n};\n\n// !HANDLERS\nfunction handlerMovieListClick(e) {\n  const closestId = e.target.closest('[data-movie-id]');\n  if (!closestId) return;\n  const movieId = closestId.dataset.movieId;\n  openMovieInfoModal(movieId);\n}\n\nfunction handlerSubmit(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const query = form.elements.search.value.trim();\n  query ? renderSearchMovieList(query) : renderCatalogMovieList();\n  form.reset();\n}\n\nrenderCatalogMovieList();","export const scrollUp = () => {\n    window.scrollTo({\n      top: 400,\n      behavior: 'smooth',\n    });\n  };","\nimport { renderCatalogMovieList, renderSearchMovieList } from './catalog';\nimport { scrollUp } from '../utils/scroll-up';\n\nconst initPagination = (totalItems, page = 1, query = '') => {\n  const options = {\n    totalItems,\n    itemsPerPage: 20,\n    visiblePages: 3,\n    page,\n    centerAlign: true,\n    firstItemClassName: 'pagination--first',\n    lastItemClassName: 'pagination--last',\n    template: {\n      page: '<a href=\"#\" class=\"pagination__btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"pagination__btn pagination__btn--current\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"pagination__btn pagination__btn--{{type}}\"></a>',\n      disabledMoveButton:\n        '<a href=\"#\" class=\"pagination__disabled pagination__btn--{{type}}\"></a>',\n      moreButton:\n        '<a href=\"#\" class=\"pagination__btn pagination__btn--{{type}}-ellipsis\">' +\n        '<i class=\"fa-solid fa-ellipsis\"></i>' +\n        '</a>',\n    },\n  };\n\n  const container = document.getElementById('pagination');\n  const instance = new Pagination(container, options);\n\n  instance.on('beforeMove', function (eventData) {\n    !query\n      ? renderCatalogMovieList(eventData.page)\n      : renderSearchMovieList(query, eventData.page);\n    scrollUp();\n  });\n\n  instance.on('afterMove', function (eventData) {});\n\n  return instance;\n};\n\nexport default initPagination;"],"names":["parcelRequire","$bpxeT","$6e3ea0efcf46d9e6$export$aae9d402fb2f2acd","window","scrollTo","top","behavior","$0590b3d00c0b853d$export$2e2bcd8739ae039","totalItems","page","arguments","length","query","options","itemsPerPage","visiblePages","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","container","document","getElementById","instance","Pagination","on","eventData","$01e6aec626037ab1$export$ac9a4cdb726aab8c","$01e6aec626037ab1$export$1cc05d800ef4de3","$4Nugj","refs","catalogForm","addEventListener","e","preventDefault","form","currentTarget","elements","search","value","trim","reset","catalogMovieList","$01e6aec626037ab1$var$handlerMovieListClick","$parcel$interopDefault","$2TvXO","mark","_callee","ref","results","total_pages","markup","_args","$7rQOT","Loading","standard","className","backgroundColor","svgColor","$1ILcr","fetchTrendingMoviesByWeek","_ctx","sent","map","movie","$7bc64","movieListMarkup","join","innerHTML","remove","fetchSearchMovies","paginationEl","classList","toggle","closestId","target","closest","movieId","dataset","$8quDb","openMovieInfoModal"],"version":3,"file":"catalog.cbe11f2d.js.map"}